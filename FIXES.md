# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏–π

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. –û—à–∏–±–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∫–æ–º–∞–Ω–¥—ã /trade
- **–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏—è `start_trade` –æ–∂–∏–¥–∞–ª–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä `query`, –Ω–æ –ø–æ–ª—É—á–∞–ª–∞ `update`
- **–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ `start_trade(update: Update, context: ContextTypes.DEFAULT_TYPE)`
- **–§–∞–π–ª**: main.py, —Å—Ç—Ä–æ–∫–∏ 2620-2621, 2632-2638

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç—Ä–µ–π–¥–∞
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–π–¥–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `trade_state` –≤ —Ñ—É–Ω–∫—Ü–∏—é `handle_message`
- **–§–∞–π–ª**: main.py, —Å—Ç—Ä–æ–∫–∏ 2624-2631

### 3. –ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π –±—ã–ª —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç—ã–º
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–∫–∞–∑—ã–≤–∞–ª —Ç–æ–ª—å–∫–æ 20 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - `admin_view_logs` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - `admin_clear_logs` - –æ—á–∏—Å—Ç–∫–∞ –∂—É—Ä–Ω–∞–ª–∞
- **–§–∞–π–ª**: main.py, —Å—Ç—Ä–æ–∫–∏ 2046-2125

### 4. –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í –∂—É—Ä–Ω–∞–ª–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_user` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è username
- **–§–∞–π–ª**: main.py, —Å—Ç—Ä–æ–∫–∏ 391-410

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –∂—É—Ä–Ω–∞–ª–∞**
   - 10 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ "–ü—Ä–µ–¥." –∏ "–°–ª–µ–¥."
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

2. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–î–î.–ú–ú –ß–ß:–ú–ú:–°–°"
   - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–º–µ—Å—Ç–æ ID (–≥–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–º–∞–∫—Å. 50 —Å–∏–º–≤–æ–ª–æ–≤)

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–º**
   - –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å –∂—É—Ä–Ω–∞–ª" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π
   - LEFT JOIN —Å —Ç–∞–±–ª–∏—Ü–µ–π users –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è username

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**
   - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–æ–∫ `logs_page_X`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `context.user_data`

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "üìú –ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π"
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
3. –ù–∞–∂–º–∏—Ç–µ "üßπ –û—á–∏—Å—Ç–∏—Ç—å –∂—É—Ä–Ω–∞–ª" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- –ñ—É—Ä–Ω–∞–ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `admin_logs`
- –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç: `user_id`, `action`, `ts` (timestamp)
- –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥–µ–ª–∞–µ—Ç—Å—è JOIN —Å —Ç–∞–±–ª–∏—Ü–µ–π `users` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è username
- –ó–∞–ø–∏—Å–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)